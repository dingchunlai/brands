SET NAMES utf8;

use 51hejia;

CREATE TABLE ability_permissions (
  id INTEGER AUTO_INCREMENT PRIMARY KEY,
  action VARCHAR(255) NOT NULL,
  subject_class VARCHAR(255) NOT NULL,
  subject_conditions VARCHAR(500),
  title VARCHAR(255),
  group_id INTEGER
) ENGINE InnoDB CHARACTER SET utf8;

CREATE INDEX ability_permissions_group_id_index ON ability_permissions (group_id);

CREATE TABLE ability_permission_groups (
  id INTEGER AUTO_INCREMENT PRIMARY KEY,
  title VARCHAR(255) NOT NULL,
  parent_id INTEGER
) ENGINE InnoDB CHARACTER SET utf8;

CREATE INDEX ability_permission_groups_parent_id_index ON ability_permission_groups (parent_id);

CREATE TABLE ability_authorities (
  id INTEGER AUTO_INCREMENT PRIMARY KEY,
  role_name VARCHAR(255) NOT NULL,
  permission_id INTEGER NOT NULL
) ENGINE InnoDB CHARACTER SET utf8;

CREATE INDEX ability_authorities_role_name_index ON ability_authorities (role_name);
